#include <stdarg.h>
#include <stdint.h>
#include <stddef.h>

// Simple 8x8 font for ASCII characters from ' ' (0x20) to '~' (0x7E)
static const uint8_t font8[128][8] = {
    // Space (32)
    [0x20] = {
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
    },
    // 'A' (65)
    [0x41] = {
        0b00011000,
        0b00100100,
        0b01000010,
        0b01111110,
        0b01000010,
        0b01000010,
        0b01000010,
        0b00000000,
    },
    // 'B' (66)
    [0x42] = {
        0b01111100,
        0b01000010,
        0b01000010,
        0b01111100,
        0b01000010,
        0b01000010,
        0b01111100,
        0b00000000,
    },
    // 'C' (67)
    [0x43] = {
        0b00111100,
        0b01000010,
        0b01000000,
        0b01000000,
        0b01000000,
        0b01000010,
        0b00111100,
        0b00000000,
    },
    // 'D' (68)
    [0x44] = {
        0b01111000,
        0b01000100,
        0b01000010,
        0b01000010,
        0b01000010,
        0b01000100,
        0b01111000,
        0b00000000,
    },
    // 'E' (69)
    [0x45] = {
        0b01111110,
        0b01000000,
        0b01000000,
        0b01111100,
        0b01000000,
        0b01000000,
        0b01111110,
        0b00000000,
    },
    // 'F' (70)
    [0x46] = {
        0b01111110,
        0b01000000,
        0b01000000,
        0b01111100,
        0b01000000,
        0b01000000,
        0b01000000,
        0b00000000,
    },
    // 'G' (71)
    [0x47] = {
        0b00111100,
        0b01000010,
        0b01000000,
        0b01001110,
        0b01000010,
        0b01000010,
        0b00111110,
        0b00000000,
    },
    // 'H' (72)
    [0x48] = {
        0b01000010,
        0b01000010,
        0b01000010,
        0b01111110,
        0b01000010,
        0b01000010,
        0b01000010,
        0b00000000,
    },
    // 'I' (73)
    [0x49] = {
        0b00111100,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00111100,
        0b00000000,
    },
    // 'J' (74)
    [0x4A] = {
        0b00011110,
        0b00000100,
        0b00000100,
        0b00000100,
        0b01000100,
        0b01000100,
        0b00111000,
        0b00000000,
    },
    // 'K' (75)
    [0x4B] = {
        0b01000010,
        0b01000100,
        0b01001000,
        0b01110000,
        0b01001000,
        0b01000100,
        0b01000010,
        0b00000000,
    },
    // 'L' (76)
    [0x4C] = {
        0b01000000,
        0b01000000,
        0b01000000,
        0b01000000,
        0b01000000,
        0b01000000,
        0b01111110,
        0b00000000,
    },
    // 'M' (77)
    [0x4D] = {
        0b01000010,
        0b01100110,
        0b01011010,
        0b01000010,
        0b01000010,
        0b01000010,
        0b01000010,
        0b00000000,
    },
    // 'N' (78)
    [0x4E] = {
        0b01000010,
        0b01100010,
        0b01010010,
        0b01001010,
        0b01000110,
        0b01000010,
        0b01000010,
        0b00000000,
    },
    // 'O' (79)
    [0x4F] = {
        0b00111100,
        0b01000010,
        0b01000010,
        0b01000010,
        0b01000010,
        0b01000010,
        0b00111100,
        0b00000000,
    },
    // 'P' (80)
    [0x50] = {
        0b01111100,
        0b01000010,
        0b01000010,
        0b01111100,
        0b01000000,
        0b01000000,
        0b01000000,
        0b00000000,
    },
    // 'Q' (81)
    [0x51] = {
        0b00111100,
        0b01000010,
        0b01000010,
        0b01000010,
        0b01010010,
        0b01001010,
        0b00111100,
        0b00000010,
    },
    // 'R' (82)
    [0x52] = {
        0b01111100,
        0b01000010,
        0b01000010,
        0b01111100,
        0b01001000,
        0b01000100,
        0b01000010,
        0b00000000,
    },
    // 'S' (83)
    [0x53] = {
        0b00111100,
        0b01000010,
        0b01000000,
        0b00111100,
        0b00000010,
        0b01000010,
        0b00111100,
        0b00000000,
    },
    // 'T' (84)
    [0x54] = {
        0b01111110,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00000000,
    },
    // 'U' (85)
    [0x55] = {
        0b01000010,
        0b01000010,
        0b01000010,
        0b01000010,
        0b01000010,
        0b01000010,
        0b00111100,
        0b00000000,
    },
    // 'V' (86)
    [0x56] = {
        0b01000010,
        0b01000010,
        0b01000010,
        0b01000010,
        0b01000010,
        0b00100100,
        0b00011000,
        0b00000000,
    },
    // 'W' (87)
    [0x57] = {
        0b01000010,
        0b01000010,
        0b01000010,
        0b01000010,
        0b01011010,
        0b01100110,
        0b01000010,
        0b00000000,
    },
    // 'X' (88)
    [0x58] = {
        0b01000010,
        0b01000010,
        0b00100100,
        0b00011000,
        0b00100100,
        0b01000010,
        0b01000010,
        0b00000000,
    },
    // 'Y' (89)
    [0x59] = {
        0b01000010,
        0b00100100,
        0b00011000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00000000,
    },
    // 'Z' (90)
    [0x5A] = {
        0b01111110,
        0b00000010,
        0b00000100,
        0b00001000,
        0b00010000,
        0b00100000,
        0b01111110,
        0b00000000,
    },
    // 'a' (97)
    [0x61] = {
        0b00000000,
        0b00000000,
        0b00111000,
        0b00000100,
        0b00111100,
        0b01000100,
        0b00111100,
        0b00000000,
    },
    // 'b' (98)
    [0x62] = {
        0b01000000,
        0b01000000,
        0b01000000,
        0b01111000,
        0b01000100,
        0b01000100,
        0b01111000,
        0b00000000,
    },
    // 'c' (99)
    [0x63] = {
        0b00000000,
        0b00000000,
        0b00111000,
        0b01000100,
        0b01000000,
        0b01000100,
        0b00111000,
        0b00000000,
    },
    // 'd' (100)
    [0x64] = {
        0b00000100,
        0b00000100,
        0b00000100,
        0b00111100,
        0b01000100,
        0b01000100,
        0b00111100,
        0b00000000,
    },
    // 'e' (101)
    [0x65] = {
        0b00000000,
        0b00000000,
        0b00111000,
        0b01000100,
        0b01111100,
        0b01000000,
        0b00111100,
        0b00000000,
    },
    // 'f' (102)
    [0x66] = {
        0b00011100,
        0b00100000,
        0b00100000,
        0b01111000,
        0b00100000,
        0b00100000,
        0b00100000,
        0b00000000,
    },
    // 'g' (103)
    [0x67] = {
        0b00000000,
        0b00000000,
        0b00111100,
        0b01000100,
        0b00111100,
        0b00000100,
        0b00111000,
        0b00000000,
    },
    // 'h' (104)
    [0x68] = {
        0b01000000,
        0b01000000,
        0b01000000,
        0b01111000,
        0b01000100,
        0b01000100,
        0b01000100,
        0b00000000,
    },
    // 'i' (105)
    [0x69] = {
        0b00010000,
        0b00000000,
        0b00110000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00111000,
        0b00000000,
    },
    // 'j' (106)
    [0x6A] = {
        0b00000100,
        0b00000000,
        0b00001100,
        0b00000100,
        0b00000100,
        0b00000100,
        0b01000100,
        0b00111000,
    },
    // 'k' (107)
    [0x6B] = {
        0b01000000,
        0b01000000,
        0b01000100,
        0b01001000,
        0b01110000,
        0b01001000,
        0b01000100,
        0b00000000,
    },
    // 'l' (108)
    [0x6C] = {
        0b00110000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00111000,
        0b00000000,
    },
    // 'm' (109)
    [0x6D] = {
        0b00000000,
        0b00000000,
        0b01101100,
        0b01010100,
        0b01010100,
        0b01010100,
        0b01000100,
        0b00000000,
    },
    // 'n' (110)
    [0x6E] = {
        0b00000000,
        0b00000000,
        0b01111000,
        0b01000100,
        0b01000100,
        0b01000100,
        0b01000100,
        0b00000000,
    },
    // 'o' (111)
    [0x6F] = {
        0b00000000,
        0b00000000,
        0b00111000,
        0b01000100,
        0b01000100,
        0b01000100,
        0b00111000,
        0b00000000,
    },
    // 'p' (112)
    [0x70] = {
        0b00000000,
        0b00000000,
        0b01111000,
        0b01000100,
        0b01111000,
        0b01000000,
        0b01000000,
        0b00000000,
    },
    // 'q' (113)
    [0x71] = {
        0b00000000,
        0b00000000,
        0b00111100,
        0b01000100,
        0b00111100,
        0b00000100,
        0b00000100,
        0b00000000,
    },
    // 'r' (114)
    [0x72] = {
        0b00000000,
        0b00000000,
        0b01011100,
        0b01100000,
        0b01000000,
        0b01000000,
        0b01000000,
        0b00000000,
    },
    // 's' (115)
    [0x73] = {
        0b00000000,
        0b00000000,
        0b00111100,
        0b01000000,
        0b00111000,
        0b00000100,
        0b01111000,
        0b00000000,
    },
    // 't' (116)
    [0x74] = {
        0b00100000,
        0b00100000,
        0b01111100,
        0b00100000,
        0b00100000,
        0b00100000,
        0b00011100,
        0b00000000,
    },
    // 'u' (117)
    [0x75] = {
        0b00000000,
        0b00000000,
        0b01000100,
        0b01000100,
        0b01000100,
        0b01000100,
        0b00111100,
        0b00000000,
    },
        // 'v' (118)
    [0x76] = {
        0b00000000,
        0b00000000,
        0b01000100,
        0b01000100,
        0b00101000,
        0b00101000,
        0b00010000,
        0b00000000,
    },
    // 'w' (119)
    [0x77] = {
        0b00000000,
        0b00000000,
        0b01000100,
        0b01000100,
        0b01010100,
        0b01010100,
        0b00101000,
        0b00000000,
    },
    // 'x' (120)
    [0x78] = {
        0b00000000,
        0b00000000,
        0b01000100,
        0b00101000,
        0b00010000,
        0b00101000,
        0b01000100,
        0b00000000,
    },
    // 'y' (121)
    [0x79] = {
        0b00000000,
        0b00000000,
        0b01000100,
        0b01000100,
        0b00111100,
        0b00000100,
        0b00111000,
        0b00000000,
    },
    // 'z' (122)
    [0x7A] = {
        0b00000000,
        0b00000000,
        0b01111100,
        0b00001000,
        0b00010000,
        0b00100000,
        0b01111100,
        0b00000000,
    },
    // '{' (123)
    [0x7B] = {
        0b00001100,
        0b00010000,
        0b00010000,
        0b00100000,
        0b00010000,
        0b00010000,
        0b00001100,
        0b00000000,
    },
    // '|' (124)
    [0x7C] = {
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00000000,
    },
    // '}' (125)
    [0x7D] = {
        0b00110000,
        0b00001000,
        0b00001000,
        0b00000100,
        0b00001000,
        0b00001000,
        0b00110000,
        0b00000000,
    },
    // '~' (126)
    [0x7E] = {
        0b00000000,
        0b00000000,
        0b00000000,
        0b00101000,
        0b01010100,
        0b00000000,
        0b00000000,
        0b00000000,
    },
    // Additional glyphs for punctuation marks

    // '!' (33)
    [0x21] = {
        0b00100000,
        0b00100000,
        0b00100000,
        0b00100000,
        0b00100000,
        0b00000000,
        0b00100000,
        0b00000000,
    },

    // '"' (34)
    [0x22] = {
        0b01010000,
        0b01010000,
        0b01010000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
    },

    // '#' (35)
    [0x23] = {
        0b00101000,
        0b01111100,
        0b00101000,
        0b01111100,
        0b00101000,
        0b01111100,
        0b00101000,
        0b00000000,
    },

    // '$' (36)
    [0x24] = {
        0b00111000,
        0b01010100,
        0b01010000,
        0b00111000,
        0b00001010,
        0b01010100,
        0b00111000,
        0b00000000,
    },

    // '%' (37)
    [0x25] = {
        0b01000100,
        0b01001000,
        0b00010000,
        0b00100000,
        0b01000010,
        0b10000100,
        0b00001000,
        0b00000000,
    },

    // '&' (38)
    [0x26] = {
        0b00111000,
        0b01000100,
        0b00101000,
        0b01010000,
        0b01001010,
        0b01000100,
        0b00111010,
        0b00000000,
    },

    // ''' (39)
    [0x27] = {
        0b00010000,
        0b00100000,
        0b01000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
    },

    // '(' (40)
    [0x28] = {
        0b00010000,
        0b00100000,
        0b01000000,
        0b01000000,
        0b01000000,
        0b00100000,
        0b00010000,
        0b00000000,
    },

    // ')' (41)
    [0x29] = {
        0b01000000,
        0b00100000,
        0b00010000,
        0b00010000,
        0b00010000,
        0b00100000,
        0b01000000,
        0b00000000,
    },

    // '*' (42)
    [0x2A] = {
        0b00000000,
        0b00101000,
        0b00010000,
        0b01111100,
        0b00010000,
        0b00101000,
        0b00000000,
        0b00000000,
    },

    // '+' (43)
    [0x2B] = {
        0b00000000,
        0b00010000,
        0b00010000,
        0b01111100,
        0b00010000,
        0b00010000,
        0b00000000,
        0b00000000,
    },

    // ',' (44)
    [0x2C] = {
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00100000,
        0b00100000,
        0b01000000,
    },

    // '-' (45)
    [0x2D] = {
        0b00000000,
        0b00000000,
        0b00000000,
        0b01111100,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
    },

    // '.' (46)
    [0x2E] = {
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00000000,
        0b00100000,
        0b00000000,
    },

    // '/' (47)
    [0x2F] = {
        0b00000100,
        0b00001000,
        0b00010000,
        0b00100000,
        0b01000000,
        0b10000000,
        0b00000000,
        0b00000000,
    },

    // '?' (63)
    [0x3F] = {
        0b00111000,
        0b01000100,
        0b00001000,
        0b00010000,
        0b00010000,
        0b00000000,
        0b00010000,
        0b00000000,
    },
    // '0' (48)
    [0x30] = {
        0b00111000,
        0b01000100,
        0b01001100,
        0b01010100,
        0b01100100,
        0b01000100,
        0b00111000,
        0b00000000,
    },

    // '1' (49)
    [0x31] = {
        0b00001000,
        0b00011000,
        0b00101000,
        0b00001000,
        0b00001000,
        0b00001000,
        0b00111100,
        0b00000000,
    },

    // '2' (50)
    [0x32] = {
        0b00111000,
        0b01000100,
        0b00000100,
        0b00001000,
        0b00010000,
        0b00100000,
        0b01111100,
        0b00000000,
    },

    // '3' (51)
    [0x33] = {
        0b00111000,
        0b01000100,
        0b00000100,
        0b00011000,
        0b00000100,
        0b01000100,
        0b00111000,
        0b00000000,
    },

    // '4' (52)
    [0x34] = {
        0b00000100,
        0b00001100,
        0b00010100,
        0b00100100,
        0b01111100,
        0b00000100,
        0b00000100,
        0b00000000,
    },

    // '5' (53)
    [0x35] = {
        0b01111100,
        0b01000000,
        0b01000000,
        0b01111000,
        0b00000100,
        0b01000100,
        0b00111000,
        0b00000000,
    },

    // '6' (54)
    [0x36] = {
        0b00011000,
        0b00100000,
        0b01000000,
        0b01111000,
        0b01000100,
        0b01000100,
        0b00111000,
        0b00000000,
    },

    // '7' (55)
    [0x37] = {
        0b01111100,
        0b00000100,
        0b00001000,
        0b00010000,
        0b00100000,
        0b01000000,
        0b01000000,
        0b00000000,
    },

    // '8' (56)
    [0x38] = {
        0b00111000,
        0b01000100,
        0b01000100,
        0b00111000,
        0b01000100,
        0b01000100,
        0b00111000,
        0b00000000,
    },

    // '9' (57)
    [0x39] = {
        0b00111000,
        0b01000100,
        0b01000100,
        0b00111100,
        0b00000100,
        0b00001000,
        0b00110000,
        0b00000000,
    },
};